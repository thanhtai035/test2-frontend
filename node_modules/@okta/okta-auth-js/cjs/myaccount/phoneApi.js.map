{"version":3,"file":"phoneApi.js","names":["getPhones","oktaAuth","options","transaction","url","method","accessToken","transactionClassName","getPhone","id","addPhone","payload","deletePhone","sendPhoneChallenge","verifyPhoneChallenge"],"sources":["../../../lib/myaccount/phoneApi.ts"],"sourcesContent":["import { sendRequest } from './request';\nimport { \n  IAPIFunction,\n  BaseTransaction, \n  PhoneTransaction\n} from './types';\n\n/**\n * @scope: okta.myaccount.phone.read\n */\nexport const getPhones: IAPIFunction<PhoneTransaction[]> = async (\n  oktaAuth,\n  options?\n) => {\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/phones',\n    method: 'GET',\n    accessToken: options?.accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction[];\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.phone.read\n */\nexport const getPhone: IAPIFunction<PhoneTransaction> = async (\n  oktaAuth,\n  options\n) => {\n  const { accessToken, id } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}`,\n    method: 'GET',\n    accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.phone.manage\n */\nexport const addPhone: IAPIFunction<PhoneTransaction> = async (\n  oktaAuth, \n  options\n): Promise<PhoneTransaction> => {\n  const { accessToken, payload } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/phones',\n    method: 'POST',\n    payload,\n    accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.phone.manage\n */\nexport const deletePhone: IAPIFunction<BaseTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { id, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}`,\n    method: 'DELETE',\n    accessToken,\n  }) as BaseTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.phone.manage\n */\nexport const sendPhoneChallenge: IAPIFunction<BaseTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { accessToken, id, payload } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}/challenge`,\n    method: 'POST',\n    payload,\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myaccount.phone.manage\n */\nexport const verifyPhoneChallenge: IAPIFunction<BaseTransaction> = async (\n  oktaAuth,\n  options\n) => {\n  const { id, payload, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}/verify`,\n    method: 'POST',\n    payload,\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n"],"mappings":";;;;AAAA;;AAOA;AACA;AACA;AACO,MAAMA,SAA2C,GAAG,OACzDC,QADyD,EAEzDC,OAFyD,KAGtD;EACH,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAE,uBADyC;IAE9CC,MAAM,EAAE,KAFsC;IAG9CC,WAAW,EAAEJ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEI,WAHwB;IAI9CC,oBAAoB,EAAE;EAJwB,CAAtB,CAA1B;EAMA,OAAOJ,WAAP;AACD,CAXM;AAaP;AACA;AACA;;;;;AACO,MAAMK,QAAwC,GAAG,OACtDP,QADsD,EAEtDC,OAFsD,KAGnD;EACH,MAAM;IAAEI,WAAF;IAAeG;EAAf,IAAsBP,OAA5B;EACA,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAG,yBAAwBK,EAAG,EADa;IAE9CJ,MAAM,EAAE,KAFsC;IAG9CC,WAH8C;IAI9CC,oBAAoB,EAAE;EAJwB,CAAtB,CAA1B;EAMA,OAAOJ,WAAP;AACD,CAZM;AAcP;AACA;AACA;;;;;AACO,MAAMO,QAAwC,GAAG,OACtDT,QADsD,EAEtDC,OAFsD,KAGxB;EAC9B,MAAM;IAAEI,WAAF;IAAeK;EAAf,IAA2BT,OAAjC;EACA,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAE,uBADyC;IAE9CC,MAAM,EAAE,MAFsC;IAG9CM,OAH8C;IAI9CL,WAJ8C;IAK9CC,oBAAoB,EAAE;EALwB,CAAtB,CAA1B;EAOA,OAAOJ,WAAP;AACD,CAbM;AAeP;AACA;AACA;;;;;AACO,MAAMS,WAA0C,GAAG,OACxDX,QADwD,EAExDC,OAFwD,KAGrD;EACH,MAAM;IAAEO,EAAF;IAAMH;EAAN,IAAsBJ,OAA5B;EACA,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAG,yBAAwBK,EAAG,EADa;IAE9CJ,MAAM,EAAE,QAFsC;IAG9CC;EAH8C,CAAtB,CAA1B;EAKA,OAAOH,WAAP;AACD,CAXM;AAaP;AACA;AACA;;;;;AACO,MAAMU,kBAAiD,GAAG,OAC/DZ,QAD+D,EAE/DC,OAF+D,KAG5D;EACH,MAAM;IAAEI,WAAF;IAAeG,EAAf;IAAmBE;EAAnB,IAA+BT,OAArC;EACA,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAG,yBAAwBK,EAAG,YADa;IAE9CJ,MAAM,EAAE,MAFsC;IAG9CM,OAH8C;IAI9CL;EAJ8C,CAAtB,CAA1B;EAMA,OAAOH,WAAP;AACD,CAZM;AAcP;AACA;AACA;;;;;AACO,MAAMW,oBAAmD,GAAG,OACjEb,QADiE,EAEjEC,OAFiE,KAG9D;EACH,MAAM;IAAEO,EAAF;IAAME,OAAN;IAAeL;EAAf,IAA+BJ,OAArC;EACA,MAAMC,WAAW,GAAG,MAAM,0BAAYF,QAAZ,EAAsB;IAC9CG,GAAG,EAAG,yBAAwBK,EAAG,SADa;IAE9CJ,MAAM,EAAE,MAFsC;IAG9CM,OAH8C;IAI9CL;EAJ8C,CAAtB,CAA1B;EAMA,OAAOH,WAAP;AACD,CAZM"}