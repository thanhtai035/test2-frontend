{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\okta-springboot-react-master\\\\okta-springboot-react-master\\\\jobs-ui\\\\src\\\\components\\\\staff\\\\Staff.js\";\nimport React, { Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { Link } from 'react-router-dom';\nimport M from 'materialize-css';\nimport API from '../misc/api';\nimport Pagination from '../misc/Pagination';\nimport Search from '../misc/Search';\nimport JobList from './JobList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Staff extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      jobs: [],\n      pagination: {\n        first: null,\n        last: null,\n        number: null,\n        size: null,\n        totalElements: null,\n        totalPages: null\n      },\n      searchText: ''\n    };\n    this.pageDefaultNumber = 0;\n    this.pageDefaultSize = 10;\n\n    this.getAllJobs = async (page, size) => {\n      API.get(`jobs?page=${page}&size=${size}`, {\n        headers: {\n          'Authorization': 'Bearer ' + (await this.props.authState.accessToken.accessToken)\n        }\n      }).then(response => {\n        const {\n          content,\n          first,\n          last,\n          number,\n          size,\n          totalElements,\n          totalPages\n        } = response.data;\n        this.setState({\n          jobs: content,\n          pagination: {\n            first,\n            last,\n            number,\n            size,\n            totalElements,\n            totalPages\n          }\n        });\n      }).catch(error => {\n        console.log(error);\n        M.toast({\n          html: error,\n          classes: 'rounded'\n        });\n      });\n    };\n\n    this.getJobsWithText = async (text, page, size) => {\n      API.put(`jobs/search?page=${page}&size=${size}`, {\n        'text': text\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + (await this.props.authState.accessToken.accessToken)\n        }\n      }).then(response => {\n        const {\n          content,\n          first,\n          last,\n          number,\n          size,\n          totalElements,\n          totalPages\n        } = response.data;\n        this.setState({\n          jobs: content,\n          pagination: {\n            first,\n            last,\n            number,\n            size,\n            totalElements,\n            totalPages\n          }\n        });\n      }).catch(error => {\n        console.log(error);\n        M.toast({\n          html: error,\n          classes: 'rounded'\n        });\n      });\n    };\n\n    this.deleteJob = async id => {\n      API.delete(`jobs/${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + (await this.props.authState.accessToken.accessToken)\n        }\n      }).then(() => {\n        const {\n          number,\n          size\n        } = this.state.pagination;\n        this.getAllJobs(number, size);\n      }).catch(error => {\n        console.log(error);\n        M.toast({\n          html: error,\n          classes: 'rounded'\n        });\n      });\n    };\n\n    this.searchJob = async (searchText, pageNumber, pageSize) => {\n      this.setState({\n        searchText\n      });\n      searchText ? this.getJobsWithText(searchText, pageNumber, pageSize) : this.getAllJobs(pageNumber, pageSize);\n    };\n  }\n\n  componentDidMount() {\n    const floatingActionButton = document.querySelectorAll('.fixed-action-btn');\n    M.FloatingActionButton.init(floatingActionButton, {\n      direction: 'button'\n    });\n    this.getAllJobs(this.pageDefaultNumber, this.pageDefaultSize);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          searchJob: this.searchJob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          className: \"center\",\n          pagination: this.state.pagination,\n          searchText: this.state.searchText,\n          searchJob: this.searchJob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(JobList, {\n          jobs: this.state.jobs,\n          deleteJob: this.deleteJob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed-action-btn\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn-floating btn-large waves-effect waves-light blue\",\n          to: '/staff/jobs',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"material-icons\",\n            children: \"add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withOktaAuth(Staff);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withOktaAuth","Link","M","API","Pagination","Search","JobList","Staff","state","jobs","pagination","first","last","number","size","totalElements","totalPages","searchText","pageDefaultNumber","pageDefaultSize","getAllJobs","page","get","headers","props","authState","accessToken","then","response","content","data","setState","catch","error","console","log","toast","html","classes","getJobsWithText","text","put","deleteJob","id","delete","searchJob","pageNumber","pageSize","componentDidMount","floatingActionButton","document","querySelectorAll","FloatingActionButton","init","direction","render"],"sources":["C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/jobs-ui/src/components/staff/Staff.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { withOktaAuth } from '@okta/okta-react'\nimport { Link } from 'react-router-dom'\nimport M from 'materialize-css'\nimport API from '../misc/api'\nimport Pagination from '../misc/Pagination'\nimport Search from '../misc/Search'\nimport JobList from './JobList'\n\nclass Staff extends Component {\n  state = {\n    jobs: [],\n    pagination: {\n      first: null,\n      last: null,\n      number: null,\n      size: null,\n      totalElements: null,\n      totalPages: null\n    },\n    searchText: ''\n  }\n\n  pageDefaultNumber = 0\n  pageDefaultSize = 10\n\n  componentDidMount() {\n    const floatingActionButton = document.querySelectorAll('.fixed-action-btn')\n    M.FloatingActionButton.init(floatingActionButton, {\n      direction: 'button'\n    })\n\n    this.getAllJobs(this.pageDefaultNumber, this.pageDefaultSize)\n  }\n\n  getAllJobs = async (page, size) => {\n    API.get(`jobs?page=${page}&size=${size}`, {\n      headers: {\n        'Authorization': 'Bearer ' + await this.props.authState.accessToken.accessToken\n      }\n    })\n      .then(response => {\n        const { content, first, last, number, size, totalElements, totalPages } = response.data\n        this.setState({\n          jobs: content,\n          pagination: {\n            first,\n            last,\n            number,\n            size,\n            totalElements,\n            totalPages\n          }\n        })\n      })\n      .catch(error => {\n        console.log(error)\n        M.toast({ html: error, classes: 'rounded' })\n      })\n  }\n\n  getJobsWithText = async (text, page, size) => {\n    API.put(`jobs/search?page=${page}&size=${size}`, { 'text': text }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + await this.props.authState.accessToken.accessToken\n      }\n    })\n      .then(response => {\n        const { content, first, last, number, size, totalElements, totalPages } = response.data\n        this.setState({\n          jobs: content,\n          pagination: {\n            first,\n            last,\n            number,\n            size,\n            totalElements,\n            totalPages\n          }\n        })\n      })\n      .catch(error => {\n        console.log(error)\n        M.toast({ html: error, classes: 'rounded' })\n      })\n  }\n\n  deleteJob = async (id) => {\n    API.delete(`jobs/${id}`, {\n      headers: {\n        'Authorization': 'Bearer ' + await this.props.authState.accessToken.accessToken\n      }\n    })\n      .then(() => {\n        const { number, size } = this.state.pagination\n        this.getAllJobs(number, size)\n      })\n      .catch(error => {\n        console.log(error)\n        M.toast({ html: error, classes: 'rounded' })\n      })\n  }\n\n  searchJob = async (searchText, pageNumber, pageSize) => {\n    this.setState({ searchText })\n    searchText ? this.getJobsWithText(searchText, pageNumber, pageSize) : this.getAllJobs(pageNumber, pageSize)\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"container\">\n          <Search searchJob={this.searchJob} />\n\n          <Pagination className=\"center\"\n            pagination={this.state.pagination}\n            searchText={this.state.searchText}\n            searchJob={this.searchJob}\n          />\n\n          <JobList\n            jobs={this.state.jobs}\n            deleteJob={this.deleteJob}\n          />\n        </div>\n\n        <div className=\"fixed-action-btn\">\n          <Link className=\"btn-floating btn-large waves-effect waves-light blue\"\n            to={'/staff/jobs'}>\n            <i className=\"material-icons\">add</i>\n          </Link>\n        </div>\n      </div >\n    )\n  }\n}\n\nexport default withOktaAuth(Staff)"],"mappings":"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"},"metadata":{},"sourceType":"module"}