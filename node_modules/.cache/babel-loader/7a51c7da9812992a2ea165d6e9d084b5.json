{"ast":null,"code":"import _defineProperty from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/ADMIN/Downloads/okta-springboot-react-master/okta-springboot-react-master/test2/test2-s3760615-front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { Remediator } from './Base/Remediator.js';\n\nvar EnrollPoll = /*#__PURE__*/function (_Remediator) {\n  _inherits(EnrollPoll, _Remediator);\n\n  var _super = _createSuper(EnrollPoll);\n\n  function EnrollPoll() {\n    _classCallCheck(this, EnrollPoll);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(EnrollPoll, [{\n    key: \"canRemediate\",\n    value: function canRemediate() {\n      return !!this.values.startPolling || this.options.step === 'enroll-poll';\n    }\n  }, {\n    key: \"getNextStep\",\n    value: function getNextStep(authClient, context) {\n      var common = _get(_getPrototypeOf(EnrollPoll.prototype), \"getNextStep\", this).call(this, authClient, context);\n\n      var authenticator = this.getAuthenticator();\n\n      if (!authenticator && (context === null || context === void 0 ? void 0 : context.currentAuthenticator)) {\n        authenticator = context.currentAuthenticator.value;\n      }\n\n      return Object.assign(Object.assign({}, common), {\n        authenticator: authenticator,\n        poll: {\n          required: true,\n          refresh: this.remediation.refresh\n        }\n      });\n    }\n  }, {\n    key: \"getValuesAfterProceed\",\n    value: function getValuesAfterProceed() {\n      var _this = this;\n\n      var trimmedValues = Object.keys(this.values).filter(function (valueKey) {\n        return valueKey !== 'startPolling';\n      });\n      return trimmedValues.reduce(function (values, valueKey) {\n        return Object.assign(Object.assign({}, values), _defineProperty({}, valueKey, _this.values[valueKey]));\n      }, {});\n    }\n  }]);\n\n  return EnrollPoll;\n}(Remediator);\n\nEnrollPoll.remediationName = 'enroll-poll';\nexport { EnrollPoll };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;IAqBaA,U;;;;;;;;;;;;;WAGX,wBAAY;MACV,OAAO,CAAC,CAAC,KAAKC,MAAL,CAAYC,YAAd,IAA8B,KAAKC,OAAL,CAAaC,IAAb,KAAsB,aAA3D;IACD;;;WAED,qBAAYC,UAAZ,EAA8CC,OAA9C,EAAkE;MAChE,IAAMC,MAAM,+EAAqBF,UAArB,EAAiCC,OAAjC,CAAZ;;MACA,IAAIE,aAAa,GAAG,KAAKC,gBAAL,EAApB;;MACA,IAAI,CAACD,aAAD,KAAkBF,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEI,oBAA3B,CAAJ,EAAqD;QACnDF,aAAa,GAAGF,OAAO,CAACI,oBAAR,CAA6BC,KAA7C;MACD;;MACD,uCACKJ,MADL,GACW;QACTC,aAAa,EAAbA,aADS;QAETI,IAAI,EAAE;UACJC,QAAQ,EAAE,IADN;UAEJC,OAAO,EAAE,KAAKC,WAAL,CAAiBD;QAFtB;MAFG,CADX;IAQD;;;WAED,iCAAqB;MAAA;;MACnB,IAAIE,aAAa,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAKjB,MAAjB,EAAyBkB,MAAzB,CAAgC,kBAAQ;QAAA,OAAIC,QAAQ,KAAK,cAAjB;MAAA,CAAxC,CAApB;MACA,OAAOJ,aAAa,CAACK,MAAd,CAAqB,UAACpB,MAAD,EAASmB,QAAT;QAAA,OAAsBH,gCAAKhB,MAAL,uBAAcmB,QAAd,EAAyB,KAAI,CAACnB,MAAL,CAAYmB,QAAZ,CAAzB,EAAtB;MAAA,CAArB,EAA6F,EAA7F,CAAP;IACD;;;;EA1B6BE,U;;AACvBtB,UAAe,gBAAf,GAAkB,aAAlB","names":["EnrollPoll","values","startPolling","options","step","authClient","context","common","authenticator","getAuthenticator","currentAuthenticator","value","poll","required","refresh","remediation","trimmedValues","Object","keys","filter","valueKey","reduce","Remediator"],"sources":["C:\\Users\\ADMIN\\Downloads\\okta-springboot-react-master\\okta-springboot-react-master\\test2\\test2-s3760615-front-end\\node_modules\\@okta\\lib\\idx\\remediators\\EnrollPoll.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { NextStep, OktaAuthIdxInterface } from '../../types';\nimport { IdxContext } from '../types/idx-js';\n\nexport interface EnrollPollValues extends RemediationValues {\n  startPolling?: boolean;\n}\n\nexport class EnrollPoll extends Remediator<EnrollPollValues> {\n  static remediationName = 'enroll-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'enroll-poll';\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const common = super.getNextStep(authClient, context);\n    let authenticator = this.getAuthenticator();\n    if (!authenticator && context?.currentAuthenticator) {\n      authenticator = context.currentAuthenticator.value;\n    }\n    return {\n      ...common,\n      authenticator,\n      poll: {\n        required: true,\n        refresh: this.remediation.refresh\n      },\n    };\n  }\n\n  getValuesAfterProceed(): EnrollPollValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'startPolling');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n"]},"metadata":{},"sourceType":"module"}